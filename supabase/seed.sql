-- =============================================================
-- COMPASS 개발용 시드 데이터
-- 주의: 이 파일은 개발/테스트 환경에서만 사용
-- =============================================================

-- ========================
-- 1. 테스트 학원
-- ========================
INSERT INTO academies (id, name, address, phone, settings) VALUES
  ('a0000000-0000-0000-0000-000000000001', '나침반 수학학원', '서울특별시 강남구 테헤란로 123', '02-1234-5678', '{"brandColor": "#3B82F6"}'),
  ('a0000000-0000-0000-0000-000000000002', '별빛 학원', '서울특별시 서초구 서초대로 456', '02-9876-5432', '{"brandColor": "#8B5CF6"}');

-- ========================
-- 2. 학교 정보
-- ========================
INSERT INTO schools (id, name, school_type, region, district, address) VALUES
  ('b0000000-0000-0000-0000-000000000001', '강남중학교', 'middle', '서울특별시', '강남구', '서울특별시 강남구 삼성로 100'),
  ('b0000000-0000-0000-0000-000000000002', '서초중학교', 'middle', '서울특별시', '서초구', '서울특별시 서초구 서초중앙로 200'),
  ('b0000000-0000-0000-0000-000000000003', '대치중학교', 'middle', '서울특별시', '강남구', '서울특별시 강남구 대치동 300'),
  ('b0000000-0000-0000-0000-000000000004', '역삼중학교', 'middle', '서울특별시', '강남구', '서울특별시 강남구 역삼동 400'),
  ('b0000000-0000-0000-0000-000000000005', '반포중학교', 'middle', '서울특별시', '서초구', '서울특별시 서초구 반포동 500');

-- ========================
-- 3. 성취기준 (중3 수학 - 2022 개정 교육과정 기반 샘플)
-- ========================

-- 3-1. 중3 1학기: 제곱근과 실수
INSERT INTO achievement_standards (code, content, subject, grade, semester, unit, sub_unit, keywords, curriculum_version) VALUES
  ('[9수01-01]', '제곱근의 뜻을 알고, 그 성질을 이해한다.', '수학', 9, 1, '제곱근과 실수', '제곱근의 뜻과 성질', ARRAY['제곱근', '양의 제곱근', '음의 제곱근'], '2022'),
  ('[9수01-02]', '무리수의 개념을 이해하고, 실수의 체계를 안다.', '수학', 9, 1, '제곱근과 실수', '무리수와 실수', ARRAY['무리수', '유리수', '실수'], '2022'),
  ('[9수01-03]', '근호를 포함한 식의 사칙연산을 할 수 있다.', '수학', 9, 1, '제곱근과 실수', '근호를 포함한 식의 계산', ARRAY['근호', '제곱근의 곱셈', '제곱근의 나눗셈'], '2022');

-- 3-2. 중3 1학기: 다항식의 곱셈과 인수분해
INSERT INTO achievement_standards (code, content, subject, grade, semester, unit, sub_unit, keywords, curriculum_version) VALUES
  ('[9수02-01]', '다항식의 곱셈을 할 수 있다.', '수학', 9, 1, '다항식의 곱셈과 인수분해', '다항식의 곱셈', ARRAY['다항식', '곱셈공식', '전개'], '2022'),
  ('[9수02-02]', '곱셈 공식을 이용하여 다항식을 전개할 수 있다.', '수학', 9, 1, '다항식의 곱셈과 인수분해', '곱셈 공식', ARRAY['완전제곱식', '합차공식', '곱셈공식'], '2022'),
  ('[9수02-03]', '인수분해의 뜻을 알고, 공통인수를 이용하여 인수분해할 수 있다.', '수학', 9, 1, '다항식의 곱셈과 인수분해', '인수분해', ARRAY['인수분해', '공통인수', '인수'], '2022'),
  ('[9수02-04]', '인수분해 공식을 이용하여 인수분해할 수 있다.', '수학', 9, 1, '다항식의 곱셈과 인수분해', '인수분해 공식', ARRAY['인수분해 공식', '완전제곱식', '합차공식'], '2022');

-- 3-3. 중3 1학기: 이차방정식
INSERT INTO achievement_standards (code, content, subject, grade, semester, unit, sub_unit, keywords, curriculum_version) VALUES
  ('[9수03-01]', '이차방정식과 그 해의 뜻을 안다.', '수학', 9, 1, '이차방정식', '이차방정식과 그 풀이', ARRAY['이차방정식', '해', '근'], '2022'),
  ('[9수03-02]', '인수분해를 이용하여 이차방정식을 풀 수 있다.', '수학', 9, 1, '이차방정식', '인수분해를 이용한 풀이', ARRAY['인수분해', '이차방정식', '풀이'], '2022'),
  ('[9수03-03]', '제곱근을 이용하여 이차방정식을 풀 수 있다.', '수학', 9, 1, '이차방정식', '제곱근을 이용한 풀이', ARRAY['제곱근', '완전제곱식', '풀이'], '2022'),
  ('[9수03-04]', '근의 공식을 유도하고, 이를 활용하여 이차방정식을 풀 수 있다.', '수학', 9, 1, '이차방정식', '근의 공식', ARRAY['근의 공식', '판별식', '이차방정식'], '2022'),
  ('[9수03-05]', '이차방정식을 활용하여 문제를 풀 수 있다.', '수학', 9, 1, '이차방정식', '이차방정식의 활용', ARRAY['활용', '문장제', '이차방정식'], '2022');

-- 3-4. 중3 1학기: 이차함수
INSERT INTO achievement_standards (code, content, subject, grade, semester, unit, sub_unit, keywords, curriculum_version) VALUES
  ('[9수04-01]', '이차함수의 의미를 이해하고, y=ax^2의 그래프를 그릴 수 있다.', '수학', 9, 1, '이차함수', '이차함수와 그래프', ARRAY['이차함수', '포물선', '그래프'], '2022'),
  ('[9수04-02]', 'y=a(x-p)^2+q의 그래프를 그릴 수 있다.', '수학', 9, 1, '이차함수', '이차함수의 그래프', ARRAY['꼭짓점', '축', '평행이동'], '2022'),
  ('[9수04-03]', 'y=ax^2+bx+c의 그래프를 그릴 수 있다.', '수학', 9, 1, '이차함수', '일반형 이차함수', ARRAY['일반형', '표준형', '변환'], '2022');

-- 3-5. 중3 2학기: 통계 (샘플)
INSERT INTO achievement_standards (code, content, subject, grade, semester, unit, sub_unit, keywords, curriculum_version) VALUES
  ('[9수05-01]', '대푯값의 의미를 알고, 평균, 중앙값, 최빈값을 구할 수 있다.', '수학', 9, 2, '통계', '대푯값', ARRAY['평균', '중앙값', '최빈값', '대푯값'], '2022'),
  ('[9수05-02]', '분산과 표준편차의 의미를 알고, 이를 구할 수 있다.', '수학', 9, 2, '통계', '산포도', ARRAY['분산', '표준편차', '산포도'], '2022');

-- 3-6. 중2 수학 (핵심 단원 샘플)
INSERT INTO achievement_standards (code, content, subject, grade, semester, unit, sub_unit, keywords, curriculum_version) VALUES
  ('[8수01-01]', '유리수와 순환소수의 관계를 이해한다.', '수학', 8, 1, '유리수와 순환소수', '유리수와 순환소수', ARRAY['유리수', '순환소수', '유한소수'], '2022'),
  ('[8수02-01]', '단항식의 곱셈과 나눗셈을 할 수 있다.', '수학', 8, 1, '식의 계산', '단항식의 계산', ARRAY['단항식', '곱셈', '나눗셈'], '2022'),
  ('[8수03-01]', '연립일차방정식과 그 해의 의미를 안다.', '수학', 8, 1, '연립일차방정식', '연립일차방정식과 풀이', ARRAY['연립방정식', '미지수', '해'], '2022'),
  ('[8수04-01]', '일차함수의 의미를 이해하고, 그 그래프를 그릴 수 있다.', '수학', 8, 1, '일차함수', '일차함수와 그래프', ARRAY['일차함수', '기울기', '절편'], '2022');

-- 3-7. 중1 수학 (핵심 단원 샘플)
INSERT INTO achievement_standards (code, content, subject, grade, semester, unit, sub_unit, keywords, curriculum_version) VALUES
  ('[7수01-01]', '소인수분해의 뜻을 알고, 자연수를 소인수분해할 수 있다.', '수학', 7, 1, '소인수분해', '소인수분해', ARRAY['소수', '소인수', '소인수분해'], '2022'),
  ('[7수02-01]', '양수와 음수의 개념을 이해하고, 정수와 유리수의 대소 관계를 안다.', '수학', 7, 1, '정수와 유리수', '정수와 유리수', ARRAY['양수', '음수', '정수', '유리수'], '2022'),
  ('[7수03-01]', '문자를 사용하여 식을 나타내고, 일차식의 덧셈과 뺄셈을 할 수 있다.', '수학', 7, 1, '문자와 식', '문자의 사용과 일차식', ARRAY['문자', '일차식', '항', '계수'], '2022'),
  ('[7수04-01]', '일차방정식을 풀 수 있고, 이를 활용하여 문제를 풀 수 있다.', '수학', 7, 1, '일차방정식', '일차방정식', ARRAY['일차방정식', '등식', '풀이'], '2022');

-- ========================
-- 4. 참고사항
-- ========================
-- 실제 사용자(profiles)는 Supabase Auth를 통해 생성됩니다.
-- auth.users에 사용자가 생성되면 handle_new_user() 트리거가
-- profiles 테이블에 자동으로 레코드를 생성합니다.
--
-- 개발 테스트 시:
-- 1. Supabase 대시보드에서 사용자 생성
-- 2. profiles 테이블에서 academy_id 수동 설정
-- 3. students/teachers 테이블에 확장 정보 추가
